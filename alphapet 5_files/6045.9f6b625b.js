(self.webpackChunkgoods_web_front_ssr=self.webpackChunkgoods_web_front_ssr||[]).push([[6045],{25112:function(y,_,e){"use strict";e.d(_,{O:function(){return z}});var W=e(20144),B=e(14074),l=e(67738),D=e(72627),C=e(79718),I=(x,m,t)=>new Promise((i,r)=>{var f=a=>{try{h(t.next(a))}catch(w){r(w)}},v=a=>{try{h(t.throw(a))}catch(w){r(w)}},h=a=>a.done?i(a.value):Promise.resolve(a.value).then(f,v);h((t=t.apply(x,m)).next())});const T=(0,W.RC)(()=>Promise.all([e.e(705),e.e(3414),e.e(556),e.e(2874),e.e(250),e.e(2330),e.e(1396),e.e(1739)]).then(e.bind(e,51739)));function z(){const x=(0,B.Y)(D.Z),m=(0,l.dd)(),t=(0,W.Fl)(()=>x.currentItem);function i(f){var v;return[C.Wz.ExpressOffer,C.Wz.InFewHoursOffer].includes(f)?!!((v=t.value)!=null&&v.addressId):!0}function r(f){return I(this,null,function*(){var v;if(!i(f)){if(window){const a=(v=(yield m.open(T)).eventResponse)==null?void 0:v.address;return Promise.resolve(!!a)}return Promise.resolve(!0)}return Promise.resolve(!0)})}return{checkDeliveryCondition:r}}},44533:function(y,_,e){"use strict";e.d(_,{Z:function(){return x}});var W=function(){var t=this,i=t._self._c,r=t._self._setupProxy;return i("div",{staticClass:"cut-block"},[i("div",{staticClass:"cut-block__text-wrapper",class:{opened:r.enableOpenedStyles},style:{"max-height":r.enableOpenedStyles?"none":`${r.props.height}px`}},[i("div",{ref:"content",staticClass:"cut-block__text-inner"},[t._t("default",null,{opened:r.state.opened})],2)]),r.state.isVisibleButtonMore?[i("div",{staticClass:"cut-block__show-all-wrapper"},[r.isButtonVisible?i("a",{staticClass:"cut-block__show-all",class:t.buttonClasses,on:{click:r.onButtonClick}},[i("span",{staticClass:"show-all__btn-text"},[t._v(t._s(r.dynamicButtonText))]),r.props.showArrowIcon?i(r.Icon,{class:{rotated:r.state.opened},attrs:{name:"angle-down"}}):t._e()],1):t._e(),t._t("button")],2)]:[i("div",{staticClass:"cut-block__show-all-wrapper"},[t._t("button")],2)]],2)},B=[],l=e(20144),D=e(12293),C=(0,l.aZ)({__name:"cut-block",props:{height:{default:150},bottomIndent:{default:10},showArrowIcon:{type:Boolean,default:!1},showHideButton:{type:Boolean,default:!1},buttonText:{default:"\u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435"},buttonClasses:{default:""}},setup(m){const t=m,i=(0,l.qj)({opened:!1,isVisibleButtonMore:!0});let r=null;const f=(0,l.iH)(null),v=(0,l.Fl)(()=>i.opened||!i.isVisibleButtonMore),h=(0,l.Fl)(()=>t.showHideButton||!i.opened),a=(0,l.Fl)(()=>t.showHideButton&&i.opened?"\u0421\u043A\u0440\u044B\u0442\u044C":t.buttonText);function w(){t.showHideButton?i.opened=!i.opened:i.opened=!0}return(0,l.bv)(()=>{window&&(r=new ResizeObserver($=>{for(let H of $){const{contentRect:V}=H,k=t.height*(t.bottomIndent/100);i.isVisibleButtonMore=V.height>t.height+k}}),r&&r.observe(f.value))}),(0,l.Jd)(()=>{window&&r&&r.unobserve(f.value)}),{__sfc:!0,props:t,state:i,resizeObserver:r,content:f,enableOpenedStyles:v,isButtonVisible:h,dynamicButtonText:a,onButtonClick:w,computed:l.Fl,onBeforeUnmount:l.Jd,onMounted:l.bv,reactive:l.qj,ref:l.iH,Icon:D.default}}}),I=C,T=e(51900),z=(0,T.Z)(I,W,B,!1,null,null,null),x=z.exports},7880:function(y,_,e){"use strict";e.d(_,{Z:function(){return ee}});var W=function(){var u=this,s=u._self._c,c=u._self._setupProxy;return s("div",{staticClass:"delivery-filter"},[s("ul",{ref:"list",staticClass:"delivery-filter__list"},[s("li",{ref:"overlay",staticClass:"delivery-filter__overlay"}),u._v(" "),u._l(u.deliveryFilters,function(o){return s("li",{key:o.label,staticClass:"delivery-filter__item",class:c.getItemClass(o.value),attrs:{"data-item-selected":o.value===c.state.selectedValue},on:{click:function(E){return c.onFilterClick(o.value||c.DueDateTypes.UnknownOffer)}}},[c.hasFilterImage(o.value||c.DueDateTypes.UnknownOffer)?s("img",{staticClass:"delivery-filter__item-image",attrs:{src:c.getFilterIcon(o.value||c.DueDateTypes.UnknownOffer),alt:`\u0444\u0438\u043B\u044C\u0442\u0440 - ${o.label}`}}):u._e(),u._v(" "),s("span",{staticClass:"delivery-filter__item-text"},[u._v(u._s(o.label))])])})],2)])},B=[],l=e(20144),D=e(84085),C=e(14074),I=e(47602),T=e(25112),z=e(6683),x=e(45037),m=e(61016),t=e(79718),i=e(32361),r=e(47371),f=e(18842),v=e(56331),h=(M,u,s)=>new Promise((c,o)=>{var E=p=>{try{F(s.next(p))}catch(b){o(b)}},A=p=>{try{F(s.throw(p))}catch(b){o(b)}},F=p=>p.done?c(p.value):Promise.resolve(p.value).then(E,A);F((s=s.apply(M,u)).next())}),a=(0,l.aZ)({__name:"delivery-filter",props:{deliveryFilters:null,contextKey:{default:"fltr"},value:{default:null},isVisible:{type:Boolean,default:!0}},emits:["input"],setup(M,{emit:u}){const s=M,c={[t.Wz.UnknownOffer]:"",[t.Wz.DefaultDeliveryOffer]:v,[t.Wz.CollectTodayOffer]:f,[t.Wz.InFewHoursOffer]:i,[t.Wz.ExpressOffer]:r},o=(0,l.qj)({selectedValue:null,prevAnalyticsFilters:"",scrollUpdateRequired:!1}),E=(0,C.Y)(x.TU),A=(0,C.Y)(m.ZP),F=(0,D.yj)(),p=(0,I.O)(),{checkDeliveryCondition:b}=(0,T.O)(),K=(0,l.iH)(null),P=(0,l.iH)(null),N=(0,l.Fl)(()=>A.deviceType),j=(0,l.Fl)(()=>s.deliveryFilters.length),J=(0,l.Fl)(()=>({[t.Wz.UnknownOffer]:`${s.contextKey}_delivery_any_show`,[t.Wz.DefaultDeliveryOffer]:`${s.contextKey}_delivery_ordinary_show`,[t.Wz.CollectTodayOffer]:`${s.contextKey}_delivery_cnc_show`,[t.Wz.InFewHoursOffer]:`${s.contextKey}_delivery_cnd_hour_show`,[t.Wz.ExpressOffer]:`${s.contextKey}_delivery_cnd_min_show`})),G=(0,l.Fl)(()=>({[t.Wz.UnknownOffer]:`${s.contextKey}_delivery_any_click`,[t.Wz.DefaultDeliveryOffer]:`${s.contextKey}_delivery_ordinary_click`,[t.Wz.CollectTodayOffer]:`${s.contextKey}_delivery_cnc_click`,[t.Wz.InFewHoursOffer]:`${s.contextKey}_delivery_cnd_hour_click`,[t.Wz.ExpressOffer]:`${s.contextKey}_delivery_cnd_min_click`}));function te(n){return c[n]}function ne(n){return n!==t.Wz.UnknownOffer}function Q(){var n;const d=(n=P.value)==null?void 0:n.querySelector('[data-item-selected="true"]'),{offsetWidth:O=0,offsetLeft:g=0}=d||{};return{width:O,left:g}}function X(n,d){K.value&&(K.value.style.left=n+"px",K.value.style.width=d+"px")}function Y(n,d){const{fullPath:O}=F,g=d==="click"?G.value:J.value,S=s.contextKey==="price"?"pdp":"plp";E.pushAnalytics({event:g[n],eventCategory:S,eventAction:g[n],eventLabel:O})}function U(n){u("input",n)}function L(n){return h(this,null,function*(){o.selectedValue=n,(yield b(n))?(o.selectedValue=n,U(n)):s.value?s.value===o.selectedValue?(o.selectedValue=t.Wz.UnknownOffer,U(t.Wz.UnknownOffer)):(o.selectedValue=s.value,U(s.value)):(o.selectedValue=n,U(n))})}function se(n){s.value!==n&&(Y(n,"click"),L(n))}function q(n){var d;if(p.value){const O=(d=P.value)==null?void 0:d.querySelector('[data-item-selected="true"]');let g=0,S=O?.clientWidth||0;P.value&&(g=P.value.clientWidth),O&&(S=O.clientWidth);const oe=n-(g-S)/2;P.value&&(P.value.scrollLeft=oe)}}function R(){if(!s.isVisible){o.scrollUpdateRequired=!0;return}Z()}function Z(){const{left:n,width:d}=Q();X(n,d),q(n)}function le(n){return n?`delivery-filter__item_${(0,z.Z)(n)}`:"delivery-filter__item"}return(0,l.YP)(()=>j.value,()=>{window&&(0,l.Y3)(()=>{R()})}),(0,l.YP)(()=>o.selectedValue,n=>{window&&((0,l.Y3)(()=>{R()}),o.selectedValue=n)},{immediate:!0}),(0,l.YP)(()=>s.deliveryFilters,n=>{!window||o.prevAnalyticsFilters===JSON.stringify(n)||(n.forEach(d=>{Y(d.value,"show")}),o.prevAnalyticsFilters=JSON.stringify(n))},{immediate:!0}),(0,l.YP)(()=>s.value,n=>{o.selectedValue=n,n&&L(n)},{immediate:!0}),(0,l.YP)(()=>s.isVisible,n=>{!n||!window||(0,l.Y3)(()=>{o.scrollUpdateRequired&&Z(),o.scrollUpdateRequired=!1})},{immediate:!0}),(0,l.YP)(()=>N.value,()=>{R()}),{__sfc:!0,FILTER_ICONS_MAP:c,emit:u,props:s,state:o,dataLayerAnalytics:E,modeStore:A,route:F,isMobile:p,checkDeliveryCondition:b,overlay:K,list:P,deviceType:N,filtersCount:j,analyticsShowMap:J,analyticsClickMap:G,getFilterIcon:te,hasFilterImage:ne,calculateOverlayPosition:Q,moveOverlay:X,pushAnalytics:Y,emitValue:U,onBeforeSetValue:L,onFilterClick:se,scrollToSelectedFilter:q,setScrollToBeUpdated:R,updateScrollPosition:Z,getItemClass:le,DueDateTypes:t.Wz}}}),w=a,$=e(51900),H=e(90910),V=e.n(H),k=(0,$.Z)(w,W,B,!1,null,null,null);typeof V()=="function"&&V()(k);var ee=k.exports},90910:function(){},47371:function(y,_,e){"use strict";y.exports=e.p+"images/15-30-mins.0f5f3a.svg"},32361:function(y,_,e){"use strict";y.exports=e.p+"images/2-3-hours.298727.svg"},18842:function(y,_,e){"use strict";y.exports=e.p+"images/pickup-today.f0aea8.svg"},56331:function(y,_,e){"use strict";y.exports=e.p+"images/tomorrow-or-later.476e7a.svg"}}]);
